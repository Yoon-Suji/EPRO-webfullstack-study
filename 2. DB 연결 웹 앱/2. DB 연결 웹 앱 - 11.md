# 2. DB ì—°ê²° ì›¹ ì•±

## 11.  WEB API - BE

### 0) ë“¤ì–´ê°€ê¸° ì „

* í´ë¼ì´ì–¸íŠ¸ ì¢…ë¥˜ ë‹¤ì–‘í™”(ì›¹ ë¸Œë¼ìš°ì €, ì•ˆë“œë¡œì´ë“œ ì•±, ios ì•± ë“±) -> í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ë°©ì‹ í•˜ë‚˜ë¡œ ì¼ì›í™” ì‹œí‚¤ëŠ” ê²ƒ í•„ìš”.

* ì¼ì›í™” ë°©ì‹ ì¤‘ ëŒ€í‘œì ì¸ ê²ƒì´ HTTPí”„ë¡œí† ëª°ë¡œ APIë¥¼ ì œê³µí•˜ëŠ” ê²ƒ - Rest API

  

### 1) API(Application Programming Interface)

* â€œAPI(Application Programming Interface, ì‘ìš© í”„ë¡œê·¸ëž¨ í”„ë¡œê·¸ëž˜ë° ì¸í„°íŽ˜ì´ìŠ¤)ëŠ” ì‘ìš© í”„ë¡œê·¸ëž¨ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡, ìš´ì˜ ì²´ì œë‚˜ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì œì–´í•  ìˆ˜ ìžˆê²Œ ë§Œë“  ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ëœ»í•©ë‹ˆë‹¤." - wiki

* Ex) ìžë°” APIë¬¸ì„œ - ìžë°” ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” í´ëž˜ìŠ¤ì™€ ì¸í„°íŽ˜ì´ìŠ¤ì— ëŒ€í•œ ì„¤ëª…

  ðŸ‘‰ í”„ë¡œê·¸ëž˜ë°ì„ í•  ë•Œ í•„ìš”í•œ ì¸í„°íŽ˜ì´ìŠ¤ = **API**



### 2) Rest(REpresentational State Transfer) API

* í•µì‹¬ ì»¨í…ì¸  ë° ê¸°ëŠ¥ì„ ì™¸ë¶€ ì‚¬ì´íŠ¸ì—ì„œ í™œìš©í•  ìˆ˜ ìžˆë„ë¡ ì œê³µë˜ëŠ” ì¸í„°íŽ˜ì´ìŠ¤
  * [ë„¤ì´ë²„ API ì†Œê°œ ë°”ë¡œê°€ê¸°](https://developers.naver.com/products/intro/plan/)
  * [íŽ˜ì´ìŠ¤ë¶ì˜ ê·¸ëž˜í”„ API ë¬¸ì„œ ë°”ë¡œê°€ê¸°](https://developers.facebook.com/docs/graph-api)
  * [ê³µê³µ ë°ì´í„° í¬í„¸ ë°”ë¡œê°€ê¸°](https://www.data.go.kr/)

* REST APIë“¤ì„ ì¡°í•©í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ = **ë§¤ì‹œì—…(Mashup)**
* RESTì˜ ì œì•½ì¡°ê±´
  * client-server
  * stateless
  * cache
  * *uniform interface* - êµ¬í˜„ ì–´ë µ
    * ë¦¬ì†ŒìŠ¤ê°€ URIë¡œ ì‹ë³„ë˜ì•¼ í•©ë‹ˆë‹¤.
    * ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±,ìˆ˜ì •,ì¶”ê°€í•˜ê³ ìž í•  ë•Œ HTTPë©”ì‹œì§€ì— í‘œí˜„ì„ í•´ì„œ ì „ì†¡í•´ì•¼ í•©ë‹ˆë‹¤.
    * ë©”ì‹œì§€ëŠ” ìŠ¤ìŠ¤ë¡œ ì„¤ëª…í•  ìˆ˜ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤. (Self-descriptive message)
    * ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœëŠ” Hyperlinkë¥¼ ì´ìš©í•´ ì „ì´ë˜ì•¼ í•©ë‹ˆë‹¤.(HATEOAS)
  * layered system
  * code-on-demand (optional)

* **REST APIëŠ” ì‰½ì§€ ì•Šë‹¤. ê·¸ëž˜ì„œ, ë³´í†µì€ Web API(í˜¹ì€ HTTP API)ë¥¼ ì‚¬ìš©í•œë‹¤.**

  * RESTì˜ ëª¨ë“  ê²ƒì„ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ì„œ REST APIë¼ê³  ë§í•˜ëŠ” ê²½ìš°

  * RESTì˜ ëª¨ë“  ê²ƒì„ ì œê³µí•˜ì§€ ì•Šê³  Web API í˜¹ì€ HTTP APIë¼ê³  ë¶€ë¥´ëŠ” ê²½ìš° âœ…

    

### 3) Web API

* Web API ë””ìžì¸ ê°€ì´ë“œ
  * URIëŠ” ì •ë³´ì˜ ìžì›ì„ í‘œí˜„í•´ì•¼ í•©ë‹ˆë‹¤.
  * ìžì›ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP Method(GET, POST, PUT, DELETE)ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.

* HTTP Method

![](https://cphinf.pstatic.net/mooc/20180206_109/1517904573515UkVsl_PNG/2_11_2_webapi.PNG)

* URIëŠ” ì •ë³´ì˜ ìžì› í‘œí˜„
  * GET /members
    : ìœ„ì˜ í‘œí˜„ì€ ë§´ë²„ì˜ ëª¨ë“  ì •ë³´ë¥¼ ë‹¬ë¼ëŠ” ìš”ì²­
  * GET /members/delete/1
    : GETì€ ì •ë³´ë¥¼ ìš”ì²­í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ìœ„ì™€ ê°™ì´ ë™ì‚¬ë¡œ ì‚­ì œë¥¼ í‘œí˜„í•˜ë©´ ì•ˆ ë¨
  * DELETE /members/1
    : HTTP Method ì¤‘ì˜ í•˜ë‚˜ì¸ DELETEë¥¼ ì´ìš©í•˜ì—¬ ì‚­ì œë¥¼ í‘œí˜„í•´ì•¼ í•¨

* ìŠ¬ëž˜ì‹œ êµ¬ë¶„ìž(/)ëŠ” ê³„ì¸µì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©

```
http://domain/departments/1/employees
```

>  URI ë§ˆì§€ë§‰ ë¬¸ìžë¡œ ìŠ¬ëž˜ì‹œ êµ¬ë¶„ìž(/)ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> í•˜ì´í”ˆ(-)ì€ URIê°€ë…ì„±ì„ ë†’ì¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
>
> ì–¸ë”ë°”(_)ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> URIê²½ë¡œëŠ” ì†Œë¬¸ìžë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
>
> RFC 3986(URI ë¬¸ë²• í˜•ì‹)ì€ URIìŠ¤í‚¤ë§ˆì™€ í˜¸ìŠ¤íŠ¸ë¥¼ ì œì™¸í•˜ê³ ëŠ” ëŒ€ì†Œë¬¸ìžë¥¼ êµ¬ë³„í•©ë‹ˆë‹¤.
>
> íŒŒì¼ í™•ìž¥ìžëŠ” URIì— í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> Accept Headerë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

* ìƒíƒœì½”ë“œ

![](https://cphinf.pstatic.net/mooc/20180206_273/1517904784161eGNFk_PNG/2_11_1_1.PNG)

![](https://cphinf.pstatic.net/mooc/20180206_113/1517904803278oyxuH_PNG/2_11_1_2.PNG)

![](https://cphinf.pstatic.net/mooc/20180206_194/1517904834300fxqr9_PNG/2_11_1_3.PNG)



### 4) ì‹¤ìŠµ

* JSON(JavaScript Object Notation): ì•„ì£¼ ê°€ë²¼ìš´ í˜•íƒœì˜ ë©”ì‹œì§€ êµí™˜ í˜•ì‹
  * [] = ë°°ì—´, ë¦¬ìŠ¤íŠ¸ / {} = ê°ì²´ í•˜ë‚˜ / ì†ì„±ëª… : ê°’ í˜•ì‹
  * í¬ë¡¬ì—ì„œ json ì˜ˆì˜ê²Œ(?) ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´ í¬ë¡¬ì•±ìŠ¤í† ì–´ í™•ìž¥í”„ë¡œê·¸ëž¨ JSON Formatter ë‹¤ìš´

* import ì•ˆë˜ëŠ” ì˜¤ë¥˜ ë°œìƒ ì‹œ í•´ê²°ë²•â—

   Cë“œë¼ì´ë¸Œ> user> .m2 ë””ë ‰í† ë¦¬> repository

  -> .m2ë””ë ‰í† ë¦¬ ì•„ì˜ˆ ì‚­ì œ(ì´í´ë¦½ìŠ¤ ë‹«ê³  ì‚­ì œ) -> ì´í´ë¦½ìŠ¤ ë‹¤ì‹œ ì‹¤í–‰ -> Update Project -> ë‹¤ì‹œ ì‹¤í–‰